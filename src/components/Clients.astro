---
import { Image } from "astro:assets";
import { homepageClients } from "../data/clients";

const displayedClients = homepageClients;
---

<section class="py-16 bg-white overflow-hidden">
  <div class="max-w-7xl mx-auto px-4 mb-8 text-center">
    <h2
      class="text-3xl font-bold text-gray-800 flex items-center justify-center gap-2"
    >
      <span class="text-black">Nossos</span>
      <span class="text-primary">Clientes</span>
      <i class="fa-solid fa-leaf text-primary text-xl"></i>
    </h2>
  </div>

  <div class="relative w-full overflow-hidden mask-gradient mb-8">
    <div class="flex animate-scroll w-max gap-12 md:gap-20">
      {
        [...displayedClients, ...displayedClients].map((client) => (
          <div class="flex items-center justify-center py-6 min-w-[150px] grayscale hover:grayscale-0 opacity-60 hover:opacity-100 transition-all duration-300 cursor-pointer">
            <Image
              src={client.logo}
              alt={client.name}
              class="h-20 w-auto object-contain"
            />
          </div>
        ))
      }
    </div>
  </div>

  <div class="text-center">
    <a
      href="/clients"
      class="inline-block px-6 py-3 bg-secondary text-white font-semibold rounded-3xl hover:bg-white hover:text-secondary hover:border-secondary transition-colors duration-300"
    >
      Ver todos os clientes
    </a>
  </div>
</section>

<style>
  @keyframes scroll {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }

  .animate-scroll {
    animation: scroll 30s linear infinite;
  }

  .mask-gradient {
    mask-image: linear-gradient(
      to right,
      transparent,
      black 10%,
      black 90%,
      transparent
    );
    -webkit-mask-image: linear-gradient(
      to right,
      transparent,
      black 10%,
      black 90%,
      transparent
    );
  }

  .animate-scroll:hover {
    animation-play-state: paused;
  }
</style>
